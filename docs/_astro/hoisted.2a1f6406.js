import{M as A,i as R,S as u,C as k,e as h,r as O,E as n,g as W,a as Y,b as F,c as M,d as P,f as x,B as H,h as T}from"./hoisted.a3c28f57.js";document.addEventListener("DOMContentLoaded",()=>{const o=document.getElementById("viewDemoModal"),t=o?.querySelector(".modal-body");if(o&&t){const e=document.createElement("iframe");e.width="100%",e.height="auto",e.src="https://www.youtube.com/embed/B-lqIrIAnjA?autoplay=1&origin=https://immitrack.ca",e.title="YouTube video player",e.frameBorder="0",e.allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",e.style.aspectRatio="16 / 9",o.addEventListener("show.bs.modal",()=>{t.appendChild(e)}),o.addEventListener("hidden.bs.modal",()=>{t.removeChild(e)})}});const w=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",y=".sticky-top",m="padding-right",v="margin-right";class K{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,m,e=>e+t),this._setElementAttributes(w,m,e=>e+t),this._setElementAttributes(y,v,e=>e-t)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,m),this._resetElementAttributes(w,m),this._resetElementAttributes(y,v)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,e,i){const s=this.getWidth(),c=d=>{if(d!==this._element&&window.innerWidth>d.clientWidth+s)return;this._saveInitialAttribute(d,e);const V=window.getComputedStyle(d).getPropertyValue(e);d.style.setProperty(e,`${i(Number.parseFloat(V))}px`)};this._applyManipulationCallback(t,c)}_saveInitialAttribute(t,e){const i=t.style.getPropertyValue(e);i&&A.setDataAttribute(t,e,i)}_resetElementAttributes(t,e){const i=s=>{const c=A.getDataAttribute(s,e);if(c===null){s.style.removeProperty(e);return}A.removeDataAttribute(s,e),s.style.setProperty(e,c)};this._applyManipulationCallback(t,i)}_applyManipulationCallback(t,e){if(R(t)){e(t);return}for(const i of u.find(t,this._element))e(i)}}const I="backdrop",j="fade",D="show",N=`mousedown.bs.${I}`,q={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},z={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class G extends k{constructor(t){super(),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}static get Default(){return q}static get DefaultType(){return z}static get NAME(){return I}show(t){if(!this._config.isVisible){h(t);return}this._append();const e=this._getElement();this._config.isAnimated&&O(e),e.classList.add(D),this._emulateAnimation(()=>{h(t)})}hide(t){if(!this._config.isVisible){h(t);return}this._getElement().classList.remove(D),this._emulateAnimation(()=>{this.dispose(),h(t)})}dispose(){this._isAppended&&(n.off(this._element,N),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add(j),this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=W(t.rootElement),t}_append(){if(this._isAppended)return;const t=this._getElement();this._config.rootElement.append(t),n.on(t,N,()=>{h(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(t){Y(t,this._getElement(),this._config.isAnimated)}}const U="focustrap",J="bs.focustrap",f=`.${J}`,Q=`focusin${f}`,X=`keydown.tab${f}`,Z="Tab",tt="forward",S="backward",et={autofocus:!0,trapElement:null},it={autofocus:"boolean",trapElement:"element"};class st extends k{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return et}static get DefaultType(){return it}static get NAME(){return U}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),n.off(document,f),n.on(document,Q,t=>this._handleFocusin(t)),n.on(document,X,t=>this._handleKeydown(t)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,n.off(document,f))}_handleFocusin(t){const{trapElement:e}=this._config;if(t.target===document||t.target===e||e.contains(t.target))return;const i=u.focusableChildren(e);i.length===0?e.focus():this._lastTabNavDirection===S?i[i.length-1].focus():i[0].focus()}_handleKeydown(t){t.key===Z&&(this._lastTabNavDirection=t.shiftKey?S:tt)}}const nt=(o,t="hide")=>{const e=`click.dismiss${o.EVENT_KEY}`,i=o.NAME;n.on(document,e,`[data-bs-dismiss="${i}"]`,function(s){if(["A","AREA"].includes(this.tagName)&&s.preventDefault(),F(this))return;const c=M(this)||this.closest(`.${i}`);o.getOrCreateInstance(c)[t]()})},ot="modal",at="bs.modal",a=`.${at}`,rt=".data-api",lt="Escape",ct=`hide${a}`,dt=`hidePrevented${a}`,$=`hidden${a}`,B=`show${a}`,ht=`shown${a}`,_t=`resize${a}`,ut=`click.dismiss${a}`,mt=`mousedown.dismiss${a}`,ft=`keydown.dismiss${a}`,Et=`click${a}${rt}`,C="modal-open",gt="fade",L="show",b="modal-static",pt=".modal.show",At=".modal-dialog",bt=".modal-body",Tt='[data-bs-toggle="modal"]',wt={backdrop:!0,focus:!0,keyboard:!0},yt={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class l extends H{constructor(t,e){super(t,e),this._dialog=u.findOne(At,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new K,this._addEventListeners()}static get Default(){return wt}static get DefaultType(){return yt}static get NAME(){return ot}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||n.trigger(this._element,B,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(C),this._adjustDialog(),this._backdrop.show(()=>this._showElement(t)))}hide(){!this._isShown||this._isTransitioning||n.trigger(this._element,ct).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(L),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){for(const t of[window,this._dialog])n.off(t,a);this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new G({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new st({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const e=u.findOne(bt,this._dialog);e&&(e.scrollTop=0),O(this._element),this._element.classList.add(L);const i=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,n.trigger(this._element,ht,{relatedTarget:t})};this._queueCallback(i,this._dialog,this._isAnimated())}_addEventListeners(){n.on(this._element,ft,t=>{if(t.key===lt){if(this._config.keyboard){t.preventDefault(),this.hide();return}this._triggerBackdropTransition()}}),n.on(window,_t,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),n.on(this._element,mt,t=>{n.one(this._element,ut,e=>{if(!(this._element!==t.target||this._element!==e.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(C),this._resetAdjustments(),this._scrollBar.reset(),n.trigger(this._element,$)})}_isAnimated(){return this._element.classList.contains(gt)}_triggerBackdropTransition(){if(n.trigger(this._element,dt).defaultPrevented)return;const e=this._element.scrollHeight>document.documentElement.clientHeight,i=this._element.style.overflowY;i==="hidden"||this._element.classList.contains(b)||(e||(this._element.style.overflowY="hidden"),this._element.classList.add(b),this._queueCallback(()=>{this._element.classList.remove(b),this._queueCallback(()=>{this._element.style.overflowY=i},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight,e=this._scrollBar.getWidth(),i=e>0;if(i&&!t){const s=T()?"paddingLeft":"paddingRight";this._element.style[s]=`${e}px`}if(!i&&t){const s=T()?"paddingRight":"paddingLeft";this._element.style[s]=`${e}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,e){return this.each(function(){const i=l.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof i[t]>"u")throw new TypeError(`No method named "${t}"`);i[t](e)}})}}n.on(document,Et,Tt,function(o){const t=M(this);["A","AREA"].includes(this.tagName)&&o.preventDefault(),n.one(t,B,s=>{s.defaultPrevented||n.one(t,$,()=>{P(this)&&this.focus()})});const e=u.findOne(pt);e&&l.getInstance(e).hide(),l.getOrCreateInstance(t).toggle(this)});nt(l);x(l);let E="",g="";const vt=new l("#emailFeedbackModal"),p=document.getElementById("emailFeedbackModal"),r=p?.querySelector(".modal-title"),_=p?.querySelector(".modal-body");p?.addEventListener("show.bs.modal",()=>{console.log({headingText:E,messageText:g,heading:r,message:_}),r&&_&&(r.innerHTML=E,_.innerHTML=g)});p?.addEventListener("hidden.bs.modal",()=>{r&&_&&(r.innerHTML="",_.innerHTML=""),r?.classList.remove("text-success"),r?.classList.remove("text-danger")});function Dt(o,t){const e="https://immitrack.ca/api/v1/support-email",i={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)};fetch(e,i).then(s=>s.json()).then(s=>{r?.classList.add("text-success"),E="Success",g=s.message,t()}).catch(s=>{console.log(s),r?.classList.add("text-danger"),E="Error",g="Something went wrong! Pleae try again."}).finally(()=>{vt?.show()})}document.addEventListener("DOMContentLoaded",()=>{const o=document.getElementById("email-form");o&&o.addEventListener("submit",t=>{if(t.preventDefault(),t.target){const e=new FormData(t.target),i=Object.fromEntries(e.entries());Dt(i,()=>o.reset())}})});
